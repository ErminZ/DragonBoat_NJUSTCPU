const translations = {
    zh: {
        'nav.title': '南京大学，中科大，药科大龙舟队',
        'nav.about': '关于我们',
        'nav.achievements': '赛事成就',
        'nav.merch': '队伍周边',
        'nav.signup': '报名加入',

        'hero.title': '三校联队',
        'hero.subtitle': '药科大新英格兰校友龙舟队',
        'hero.tagline': '三年破浪，从零到领奖台',
        'hero.cta': '了解更多',
        'hero.signup': '报名加入',

        'about.title': '关于我们',
        'about.p1': '2023年，中山大学新英格兰校友会的一群校友因热血与热爱在波士顿的查尔斯河畔集结，组建了「双鸭山龙舟队」，从零起步划响了属于中大的第一桨。大家心中都有一个朴素的念头——中大人，也应该有属于自己的龙舟队，让中大绿在异乡河面上飘扬，成为凝聚校友情感的纽带。',
        'about.p2': '三年间，队伍从E组初露锋芒，到B组稳居强手之列，再到刷新 'timeline.2023.stat1': '500米用时',
        'timeline.2023.stat2': '全场排名',
        'timeline.2023.stat3': '连升三组',

        'timeline.2024.title': '稳步进阶，实力初现',
        'timeline.2024.desc': '第二年，双鸭山龙舟队再次整装出征波士顿龙舟赛。这一次，他们不再是稚嫩的新手队，而是一支目标明确、分工有序、节奏整齐的战斗集体。队伍成功从去年的C组一路晋升到竞争激烈的B组，总成绩相比首年已跃升至全场第24名（共68支队），稳居赛会中上游。',
        'timeline.2024.stat1': '全场排名',
        'timeline.2024.stat2': '晋升B组',

        'timeline.2025.title': '突破纪录，首夺金牌',
        'timeline.2025.p1': '2025年，是双鸭山龙舟队真正意义上的飞跃之年。六月的波士顿龙舟赛，500米项目用时比去年快了整整23秒，一举刷新队史最佳纪录；在最多参赛队伍的一届，共72支队中总排名从去年的第24名跃升到第渔夫帽',
        'merch.cap.name': '棒球帽',
        'merch.jerseyLong.name': '长袖队服',
        'merch.jerseyShort.name': '短袖队服',
        'merch.windbreaker.name': '冲锋衣',
        'merch.magnet.dragon': '冰箱贴 - 龙舟队',
        'merch.sizeChart': '查看尺码表',
        'merch.purchase.text': '扫码添加中山大学新英格兰校友会小助手微信购买周边',
        'merch.purchase.label': '中山大学新英格兰校友会小助手',

        'merch.addToCart': '加入购物车',

        'cart.added': '已加入购物车',
        'cart.title': '购物车',
        'cart.empty': '购物车是空的',
        'cart.total': '合计',
        'cart.checkout': '去结算',
        'cart.selectSize': '选择尺码',
        'cart.cancel': '取消',

        'checkout.title': '确认订单',
        'checkout.name': '姓名',
        'checkout.contact': '邮箱 / 手机号',
        'checkout.payMethod': '付款方式',
        'checkout.note': '请先通过 Venmo æ'双鸭山龙舟队',
        'footer.org': '中山大学新英格兰校友龙舟队',
        'footer.tagline': '奋楫前行，奔赴更远的海'
    },

    en: {
        'nav.title': ' NJUST,USTC,CPU Dragon Boat',
        'nav.about': 'About',
        'nav.achievements': 'Achievements',
        'nav.merch': 'Merchandise',
        'nav.signup': 'Join Us',

        'hero.title': 'NJUST,USTC,CPU Dragon Boat',
        'hero.subtitle': 'Nanjing University, University of Science and Technology of China, China Pharmaceutical University New England Alumni Dragon Boat Team',
        'hero.tagline': 'Three Years of Breaking Waves — From Zero to the Podium',
        'hero.cta': 'Learn More',
        'hero.signup': 'Join Us',

        'about.title': 'About Us',
        'about.p1': 'In 2023, a group of alumni from the Sun Yat-sen University New England Alumni Association came together on the banks of the Charles River, driven by passion and camaraderie. They founded the "SYSU Dragon Boat Team" (nicknamed "Shuangyashan"), starting from scratch to make the first paddle stroke for SYSU. They shared a simple be the iconic SYSU green fly on foreign waters as a bond uniting alumni abroad.',
        'about.p2': 'Over three years, the team rose from Division E rookies to strong contenders in Division B, breaking team records along the way. More and more SYSU alumni joined the ranks, strengthening the team and deepening alumni bonds overseas. This past summer, they finally took the podium for the first time at the Rhode Island Dragon Boat Festival, winning their first-ever gold medal — from nothing to champions, three years of sweat and perseverance made the SYSU spirit shine on waters far from home.',

        'achievements.title': 'Achievements',

        'timeline.2023.title': 'The First Paddle — Breaking Through',
        'timeline.2023.desc': 'Nearly everyone was a complete beginner at the first race — no experience, limited equipment. Members trained on evenings and weekends after work, learning from scratch: paddle grip, stroke timing, team coordination. Blisters became badges of honor. They finished the ace in 2:33 (33rd out of 64 teams), originally placed in Division E but surging all the way up to Division C — a historic breakthrough in their debut.',
        'timeline.2023.stat1': '500m Time',
        'timeline.2023.stat2': 'Overall Rank',
        'timeline.2023.stat3': 'E→C Divisions',

        'timeline.2024.title': 'Steady Progress, Rising Strength',
        'timeline.2024.desc': 'In their second year, the team returned with clear goals, organized roles, and synchronized rhythm. They advanced from Division C to the fiercely competitive Division B, climbing to 24th overall out of 68 teams — firmly in the upper tier of the competition.',
        'timeline.2024.stat1': 'Overall Rank',
        'timeline.2024.stat2': 'Div B Promotion',

        'timeline.2025.title': 'Record-Breaking, First Gold Medal',
        'timeline.2025.p1': was the year of the team\'s true breakthrough. At the June Boston Dragon Boat Festival, their 500m time improved by a full 23 seconds from the previous year, setting a new team record. In the largest field ever of 72 teams, they jumped from 24th to 15th overall.',
        'timeline.2025.p2': 'Two months later, the team competed for the first time at the Rhode Island Dragon Boat Festival, partnering with China Pharmaceutical University. They dominated the small boat race, then clinched the Division 3 gold medal in the large boat final — the team\ first-ever gold!',
        'timeline.2025.stat1': '200m Record',
        'timeline.2025.stat2': '500m Time',
        'timeline.2025.stat3': 'Boston Rank',
        'timeline.2025.stat4': 'RI Gold Medal',

        'gallery.title': 'Race Highlights',

        'merch.title': 'Merchandise',
        'merch.transfer.name': 'Transfer Stickers',
        'merch.stickers.name': 'Vinyl Stickers',
        'merch.hat.name': 'Bucket Hat',
        'merch.cap.name': 'Baseball Cap',
        'merch.jerseyLong.name': 'Long Sleeve Jersey',
        'merch.jerseyShort.name': 'Short Sleeve Jersey',
        'merch.windbreaker.name': 'Windbreaker',
        'merch.magnet.dragon': 'Magnet - Dragon Boat',
        'merch.sizeChart': 'Size Chart',
        'merch.purchase.text': 'Scan the QR code to add our WeChat assistant and purchase merchandise',
        'merch.purchase.label': 'SYSU New England Alumni Association Assistant',

        'merch.addToCart': 'Add to Cart',

        'cart.added': 'Added to cart',
        'cart.title': 'Shopping Cart',
        'cart.empty': 'Your cart is empty',
        'cart.total': 'Total',
        'cart.checkout': 'Checkout',
        'cart.selectSize': 'Select Size',
        'cart.cancel': 'Cancel',

        'checkout.title': 'Confirm Order',
        'checkout.name': 'Name',
        'checkout.contact': 'Email / Phone',
        'checkout.payMethod': 'Payment Method',
        'checkout.note': 'Please complete payment via Venmo or Zelle first, then click the button below to submit your order. We will confirm and arrange delivery shortly.',
        'checkout.submit': 'Place Order',
        'checkout.successTitle': 'Order Submitted!',
        'checkout.successMsg': 'We have received your order. After confirming payment, we will arrange delivery as soon as possible.',
        'checkout.close': 'Close',

        'footer.name': 'SYSU Dragon Boat',
        'footer.org': 'Sun Yat-sen University New England Alumni Dragon Boat Team',
        'footer.tagline': 'Paddling Forward, Towards Greater Horizons'
    }
};

let currentLang = localStorage.getItem('lang') || 'zh';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);

    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });

    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';

    const langBtn = document.getElementById('langToggle');
    if (langBtn) {
        langBtn.textContent = lang === 'zh' ? 'EN' : '中文';
    }

    // Re-render citems with new language
    if (typeof Cart !== 'undefined') {
        Cart.render();
    }
}

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);
});
