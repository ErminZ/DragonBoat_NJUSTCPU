const translations = {
    zh: {
        'nav.title': 'NJUST、USTC、CPU龙舟队',
        'nav.about': '关于我们',
        'nav.achievements': '赛事成就',
        'nav.sponsors': '赞助商',
        'nav.merch': '队伍周边',
        'nav.signup': '报名加入',

        'hero.title': '三校联队龙舟队',
        'hero.subtitle': 'NJUST、USTC、CPU新英格兰校友龙舟队',
        'hero.tagline': '三年破浪，从零到领奖台',
        'hero.cta': '了解更多',
        'hero.signup': '报名加入',

        'about.title': '关于我们',
        'about.p1': '2023年，新英格兰地区校友因热血与热爱在波士顿的查尔斯河畔集结，组建了三校联队龙舟队，从零起步划响了属于我们的第一桨。大家心中都有一个朴素的念头——我们也应该有属于自己的龙舟队，让校友情感在异乡河面上飘扬，成为凝聚校友的纽带。',
        'about.p2': '三年间，队伍从初露锋芒，到稳居强手之列，再到刷新队史纪录，步步为营、节节攀升；三年间，越来越多的校友加入其中，让这支队伍不断壮大，也让校友情感在异乡蓬勃生长。今年夏天，他们终于在罗德岛的赛场上首次登上领奖台，斩获队史第一枚金牌——从无到有，从追赶到争冠，三年时间，他们用汗水与坚持，让校友精神在海外异乡的河面上闪耀。',

        'achievements.title': '赛事成就',

        'timeline.2023.title': '三校联队的第一桨，突破重围',
        'timeline.2023.desc': '首次参赛时，几乎全员都是龙舟新手，缺乏经验、器材有限。大家白天忙碌于工作，夜晚和周末便扎进训练场，从握桨姿势、起划节奏到团队配合都从零学起，手上磨起的水泡成了最初的勋章。',
        'timeline.2023.stat1': '500米用时',
        'timeline.2023.stat2': '排名进步',

        'timeline.2024.title': '稳步进阶，实力初现',
        'timeline.2024.desc': '第二年，龙舟队再次整装出征。这一次，他们不再是稚嫩的新手队，而是一支目标明确、分工有序、节奏整齐的战斗集体。队伍稳居赛会中上游，展现出明显的进步。',
        'timeline.2024.stat1': '500米用时',
        'timeline.2024.stat2': '较去年提升',

        'timeline.2025.title': '突破纪录，首夺金牌',
        'timeline.2025.desc': '队伍真正意义上的飞跃之年。六月的波士顿龙舟赛，500米项目用时创造队史新高；在最多参赛队伍的一届，共72支队中总排名显著提升。最终在罗德岛赛场首次登上领奖台，斩获队史第一枚金牌！',
        'timeline.2025.stat1': '200米纪录',
        'timeline.2025.stat2': '波士顿排名',
        'timeline.2025.stat3': '罗德岛金牌',

        'gallery.title': '比赛精彩瞬间',

        'sponsors.title': '我们的赞助商',
        'sponsors.subtitle': '感谢以下赞助商的支持',
        'sponsors.major': '主要赞助商',

        'merch.title': '队伍周边',
        'merch.jersey.name': '队服',
        'merch.sizeChart': '查看尺码表',
        'merch.addToCart': '加入购物车',

        'cart.added': '已加入购物车',
        'cart.title': '购物车',
        'cart.empty': '购物车是空的',
        'cart.total': '合计',
        'cart.checkout': '去结算',
        'cart.selectSize': '选择尺码',
        'cart.cancel': '取消',

        'checkout.title': '确认订单',
        'checkout.name': '姓名',
        'checkout.contact': '邮箱 / 手机号',
        'checkout.payMethod': '付款方式',
        'checkout.note': '请先通过 Venmo 或 Zelle 完成付款，再提交订单。',
        'checkout.submit': '确认下单',
        'checkout.successTitle': '订单已提交！',
        'checkout.successMsg': '我们已收到您的订单信息，确认付款后会尽快安排发货。',
        'checkout.close': '关闭',

        'footer.name': '三校联队龙舟队',
        'footer.org': 'NJUST、USTC、CPU新英格兰校友龙舟队',
        'footer.tagline': '奋楫前行，奔赴更远的海',
        'footer.contact': 'New England Alumni Dragon Boat Team'
    },

    en: {
        'nav.title': 'NJUST, USTC, CPU Dragon Boat',
        'nav.about': 'About',
        'nav.achievements': 'Achievements',
        'nav.sponsors': 'Sponsors',
        'nav.merch': 'Merchandise',
        'nav.signup': 'Join Us',

        'hero.title': 'Three-School United Dragon Boat Team',
        'hero.subtitle': 'NJUST, USTC, CPU New England Alumni Dragon Boat Team',
        'hero.tagline': 'Three Years of Breaking Waves — From Zero to the Podium',
        'hero.cta': 'Learn More',
        'hero.signup': 'Join Us',

        'about.title': 'About Us',
        'about.p1': 'In 2023, a group of alumni from the New England region came together on the banks of the Charles River in Boston, driven by passion and camaraderie. They founded the Three-School United Dragon Boat Team, starting from scratch to make the first paddle stroke for all of us. They shared a simple belief — we should have our own dragon boat team, letting alumni bonds flourish on foreign waters as a bridge uniting us abroad.',
        'about.p2': 'Over three years, the team rose from showing promise, to becoming a strong competitor, to breaking team records — climbing steadily and progressing steadily. More and more alumni joined the ranks, strengthening the team and deepening alumni bonds overseas. This past summer, they finally took the podium for the first time at the Rhode Island Dragon Boat Festival, winning their first-ever gold medal — from nothing to champions, three years of sweat and perseverance made our alumni spirit shine on waters far from home.',

        'achievements.title': 'Achievements',

        'timeline.2023.title': 'The First Paddle — Breaking Through',
        'timeline.2023.desc': 'Nearly everyone was a complete beginner at the first race — no experience, limited equipment. Members trained on evenings and weekends after work, learning from scratch: paddle grip, stroke timing, team coordination. Blisters became badges of honor. A historic breakthrough in their debut.',
        'timeline.2023.stat1': '500m Time',
        'timeline.2023.stat2': 'Overall Progress',

        'timeline.2024.title': 'Steady Progress, Rising Strength',
        'timeline.2024.desc': 'In their second year, the team returned with clear goals, organized roles, and synchronized rhythm. They advanced steadily, firmly in the upper tier of the competition.',
        'timeline.2024.stat1': '500m Time',
        'timeline.2024.stat2': 'Improvement',

        'timeline.2025.title': 'Record-Breaking, First Gold Medal',
        'timeline.2025.desc': 'This was the year of the team\'s true breakthrough. At the June Boston Dragon Boat Festival, their 500m time set a new team record. In the largest field ever of 72 teams, they climbed significantly in overall rankings. Finally at the Rhode Island Dragon Boat Festival, they took the podium for the first time, winning their first-ever gold medal!',
        'timeline.2025.stat1': '200m Record',
        'timeline.2025.stat2': 'Boston Rank',
        'timeline.2025.stat3': 'RI Gold Medal',

        'gallery.title': 'Race Highlights',

        'sponsors.title': 'Our Sponsors',
        'sponsors.subtitle': 'Thank you to our sponsors for their support',
        'sponsors.major': 'Major Sponsor',

        'merch.title': 'Merchandise',
        'merch.jersey.name': 'Team Jersey',
        'merch.sizeChart': 'Size Chart',
        'merch.addToCart': 'Add to Cart',

        'cart.added': 'Added to cart',
        'cart.title': 'Shopping Cart',
        'cart.empty': 'Your cart is empty',
        'cart.total': 'Total',
        'cart.checkout': 'Checkout',
        'cart.selectSize': 'Select Size',
        'cart.cancel': 'Cancel',

        'checkout.title': 'Confirm Order',
        'checkout.name': 'Name',
        'checkout.contact': 'Email / Phone',
        'checkout.payMethod': 'Payment Method',
        'checkout.note': 'Please complete payment via Venmo or Zelle first, then submit your order.',
        'checkout.submit': 'Place Order',
        'checkout.successTitle': 'Order Submitted!',
        'checkout.successMsg': 'We have received your order. After confirming payment, we will arrange delivery as soon as possible.',
        'checkout.close': 'Close',

        'footer.name': 'Three-School United Dragon Boat Team',
        'footer.org': 'NJUST, USTC, CPU New England Alumni Dragon Boat Team',
        'footer.tagline': 'Paddling Forward, Towards Greater Horizons',
        'footer.contact': 'New England Alumni Dragon Boat Team'
    }
};

let currentLang = localStorage.getItem('lang') || 'zh';

function toggleLanguage() {
    const newLang = currentLang === 'zh' ? 'en' : 'zh';
    setLanguage(newLang);
}

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);

    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });

    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';

    const langBtn = document.querySelector('.lang-toggle');
    if (langBtn) {
        langBtn.textContent = lang === 'zh' ? 'EN' : '中文';
    }

    // Re-render cart items with new language
    if (typeof Cart !== 'undefined') {
        Cart.render();
    }
}

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);
});
